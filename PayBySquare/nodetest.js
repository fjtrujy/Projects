var PayBySquare = require("./engine/paybysquare.js");

var tests = [
  "0005A00010UASS6F8PTOU04BN1GD05T2H1QLH02GQKG005B08TBPJCUCV67BFF2N6R72KJFKT7GRKUSJ8NT7IC172A14QGAEBJJEK429C1UNAF0BN77N40OOSPFU73O",
  "00058000B0N920G2N1JVUCEGEU9PA6J3GU554K1MBFPAIGEB2HSDEL39GUPEBP6DPFFK9KLTMREJUMFL0JTAPRFUG8I2HB5J9Q3TBMA6KE02OJVC7E9F9554BK7OOUE200",
  "0005A0008CMK2J1G9C62MCGTDLG0V9OP3H2TB4NM1J1R8DIAV5LPP67N2GDFEPI0JK3OCURIKQCBJP797QOUC7A965I36RU6FAMGPJINE91GOM794SCD1EI0TDD63SIGHS",
  "0005A000AQKPJ13FARRR6T8AR3706JS0TSG081FSH5CONNO6S8S00GMFG56KSAC254RJVMJKPT6I2F5AEJ55123F2FC8HCQUIU1IQGEB2SHOTV1VQNL5MPFT7SFPQ4MH",
];

var passed = true;

for (var i in tests)
{
  var source = tests[i];
  var fields = PayBySquare.decode(source);
  console.log(fields.join("/"));

  var encoded = PayBySquare.encode(fields);
  console.log(encoded);

  if ( source != encoded )
    passed = false;
}

console.log(passed ? "Test passed" : "Error!" );
